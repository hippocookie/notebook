# Flink

## Flink是什么

Flink是一个框架和分布式处理引擎，用于在无边界和有边界数据流上进行有状态计算。Flink能在所有常见集群环境中运行，并能以内存速度和任意规模进行计算。

### 有界流和无界流

无界流：有定义流开始，但没有定义流的结束，它会无休止地产生数据。无界流的数据必须持续处理，即数据被摄取后需要立刻处理，不能等到所有数据都到达再处理，因为输入是无线的，任何时候输入都不会完成。

处理无界流数据通常要求以特定的顺序摄取，例如事件发生的顺序，以便能贵推断结果的完整性。

有界流：有定义流的开始，也有定义流的结束，可以在摄取所有数据后再进行计算，所有数据可以被排序，所以并不需要有序摄取。通常被称为批处理。

### 有状态的计算架构

Flink默认算子是有状态的（计算的结果会进行保存，而Spark的某些算子是有状态的），默认是保存在本地内存中，定时通过checkpoint保存到外部状态存储中。

### Flink VS Spark Streaming

数据模型

- Spark采用RDD模型，spark streaming的DStream实际上也就是一组组小批数据RDD的集合
- Flink基本数据模型是数据流，以及事件（Event）序列

运行时架构

- Spark是批计算，将DAG划分为不同的stage，一个完成后才可以计算下一个
- Flink是标准的流执行模式，一个时间在一个节点处理完成后可以直接发往下一个节点进行处理
